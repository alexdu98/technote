{% extends "templates/base.twig" %}
{% block contenu %}
	<section class="row">
		<div class="container-fluid">
			<div class="panel panel-default">
				<div class="panel-body">
					<p class="text-center text-danger text">* champs obligatoires</p>
					{% include 'templates/messages.twig' %}
					<form method="POST" class="form-horizontal" name="editTechnote">
						<div class="form-group">
							<label for="titre" class="col-md-2 control-label">Titre*</label>
							<div class="col-md-10">
								<input type="text" name="titre" class="form-control" id="titre" placeholder="Titre" maxlength="63" value="{{ technote.titre }}" required>
							</div>
						</div>
						<div class="form-group">
							<label for="url_image" class="col-md-2 control-label">URL image*</label>
							<div class="col-md-10">
								<input type="url" name="url_image" class="form-control" id="url_image" placeholder="URL image" maxlength="1023" value="{{ technote.url_image }}" required>
							</div>
						</div>
						<div class="form-group">
							<label for="description" class="col-sm-2 control-label">Description*</label>
							<div class="col-sm-10">
								<textarea class="form-control col-md-12" rows="3" name="description" id="description" placeholder="Description" maxlength="383" required>{{ technote.description }}</textarea>
							</div>
						</div>
						<div class="form-group">
							<label for="contenu" class="col-md-2 control-label">Contenu*</label>
							<div class="col-md-10">
								<textarea name="contenu" id="contenu" class="form-control" rows="25" cols="10" required>{{ technote.contenu }}</textarea>
							</div>
							<script>
				                CKEDITOR.replace('contenu');
							</script>
						</div>
						<div class="form-group">
							<label for="mots-cles" class="col-md-2 control-label">Mots-clés</label>
							<div class="col-md-10">
								<select name="id_mot_cle[]" class="form-control" id="mots-cles" multiple="multiple">
									{% for motCle in motsCles %}
										<option value="{{ motCle.id_mot_cle }}"
									        {% for id_mc in technote.motsCles %}
									            {% if motCle.id_mot_cle == id_mc.id_mot_cle %}selected{% endif %}
											{% endfor %}
										>{{ motCle.label }}</option>
									{% endfor %}
								</select>
							</div>
							<script>
								$(document).ready(function() {
									$('#mots-cles').multiselect({
										buttonWidth: '100%',
										nonSelectedText: 'Aucun mot-clé sélectionné',
										nSelectedText: ' mots-clés sélectionnés',
										filterPlaceholder: 'Rechercher un mot-clé',
										enableFiltering: true,
										maxHeight: 400,
										dropUp: true
									});
								});
							</script>
						</div>
						<div class="form-group">
							<label for="publieOui" class="col-md-2 control-label">Publié*</label>
							<div class="col-md-10">
								<label class="radio-inline">
									<input type="radio" name="publie" id="publieOui" value="1" required {% if technote.publie %}checked{% endif %}> Oui
								</label>
								<label class="radio-inline">
									<input type="radio" name="publie" id="publieNon" value="0" required {% if not technote.publie %}checked{% endif %}> Non
								</label>
							</div>
						</div>
						<div class="form-group">
							<div class="col-md-offset-2 col-md-10">
								<input type="submit" class="btn btn-default" value="Envoyer">
							</div>
						</div>
						<input type="hidden" name="jetonCSRF" value="{{ session.jetonCSRF }}">
					</form>
				</div>
			</div>
		</div>
	</section>
{% endblock %}